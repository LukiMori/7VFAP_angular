<div class="container py-4" style="max-width: 1200px;">
  <h2 class="mb-3">Produkty</h2>

  <div class="mb-3 d-flex justify-content-end">
    <input
      type="text"
      pInputText
      [(ngModel)]="search"
      (ngModelChange)="onSearchChange()"
      placeholder="Hledat produkty"
      style="max-width: 300px;"
    />
  </div>

  <p-table
    [value]="products"
    [lazy]="true"
    [paginator]="true"
    [rows]="size"
    [totalRecords]="totalRecords"
    [loading]="loading"
    [rowsPerPageOptions]="[6, 12, 24]"
    (onLazyLoad)="loadProducts($event)"
    [responsiveLayout]="'scroll'"
    [style]="{ minWidth: '100%' }"
  >
    <ng-template pTemplate="header">
      <tr>
        <th pSortableColumn="name">Název <p-sortIcon field="name" /></th>
        <th pSortableColumn="price">Cena <p-sortIcon field="price" /></th>
        <th pSortableColumn="quantityInStock">Skladem <p-sortIcon field="quantityInStock" /></th>
        <th>Značka</th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-product>
      <tr>
        <td>{{ product.name }}</td>
        <td>{{ product.price | currency:'CZK':'symbol-narrow' }}</td>
        <td>{{ product.quantityInStock }}</td>
        <td>{{ product.brandName }}</td>
      </tr>
    </ng-template>

    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="4" class="text-center">Žádné produkty k zobrazení.</td>
      </tr>
    </ng-template>
  </p-table>
</div>
